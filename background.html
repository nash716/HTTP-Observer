<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript">
	chrome.browserAction.onClicked.addListener(function(tab) {
		chrome.windows.getAll({ populate: true} , function(windows) {
			for (var i=0; i<windows.length; i++) {
				var tabs = windows[i].tabs;
				for (var j=0; j<tabs.length; j++) {
					if (tabs[j].url.match(chrome.extension.getURL('main.html'))) {
						chrome.tabs.update(parseInt(tabs[j].id), { selected: true });
						return;
					}
				}
			}
			chrome.tabs.create({
				url: 'main.html',
				selected: true
			});
		});
	});
</script>
</head>

</html>